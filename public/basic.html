<!DOCTYPE html>
<html>
	<head>
		<title> </title>
		<style>
			#map-canvas
			{
    			width:500px;
    			height:500px;
			}
		</style>
	</head>
	<body onLoad="getLocation()" onLoad="showPosition()">
		
		Your Location is:
		<p id="demo"> </p>
		<div id = "map"> </div>
		<div id="map-canvas"></div>
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&callback=initialize"></script>
		
		
		<script>
			var x = document.getElementById("demo");
			var output = document.getElementById("out");
			var myLatLng = document.getElementById("myLatLng");
			var marker = document.getElementById("marker");
			var map = new google.maps.Map(document.getElementById('map-canvas'));
			
			function getLocation() 
			{
				if (navigator.geolocation) 
				{
					navigator.geolocation.getCurrentPosition(showPosition);
				} 
				else 
				{ 
					x.innerHTML = "Geolocation is not supported by this browser.";
				}
			};

			function showPosition(position) 
			{
				x.innerHTML = "Latitude: " + position.coords.latitude + "<br>Longitude: " + position.coords.longitude;	
				
				var myLatLng = {lat: position.coords.latitude, lng: position.coords.longitude};
				
				var img = new Image();
				
				var map = new google.maps.Map(document.getElementById('map'))
				{
    				zoom: 4;
    				center: myLatLng;
  				}
  
				var marker = new google.maps.Marker
				{
    				position: myLatLng;
    				map: map;
    				title: 'Hello World!'
				}
    			/*img.src = "https://maps.googleapis.com/maps/api/staticmap?center=" + position.coords.latitude + "," + position.coords.longitude + "&zoom=13&size=300x300&sensor=false";*/
				
				output.appendChild(map);
			};

			navigator.geolocation.getCurrentPosition(showPosition);
			
		</script>
	</body>
</html>